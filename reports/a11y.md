# A11y-Inventar: K2 Energieberatung

**Aktualisiert am:** 28. September 2025  
**Code-Stand:** Style Guide 1.3.1 (Tokens + Komponenten)

## ♿ Gesamtstatus
| WCAG 2.2 Kategorie | Status | Score | Kritische Issues |
|--------------------|--------|-------|-----------------|
| **Perceivable**    | ✅ Gut | 8/10 | 0 |
| **Operable**       | ✅ Gut | 8/10 | 0 |
| **Understandable** | ✅ Gut | 8/10 | 0 |
| **Robust**         | ✅ Gut | 9/10 | 0 |

**Gesamt-Score:** 8.25/10 (WCAG AA erreicht)

## 🔄 Änderungen seit letztem Audit
- Fokus-Ring nutzt `--focus-ring-color` (`var(--color-status-info)`) und erreicht ≥3:1.  
- `@media (prefers-reduced-motion: reduce)` global in `tokens.css` und `grid.css` aktiv.  
- Dialog-Komponente verwendet `<dialog>` (Focus Trap + ESC).  
- Kontaktformular (`apps/web/src/components/sections/contact-form.tsx`) besitzt Labels, `aria-invalid`, `aria-describedby` und Token-basierte Farben.

## 🔍 Detailanalyse (Ist)

### Perceivable
- ✅ Text- und Non-Text-Kontraste ≥ AA.  
- ✅ Responsive Typografie (`clamp`).  
- ✅ Bilder mit Alt-Attributen (Sanity).  
- ⏳ Weiterer Schritt: Farbwahl in Richtext per Sanity-Decorator reglementieren.

### Operable
- ✅ Keyboard-Navigation in Navbar, Dropdown, Dialog, FAQ.  
- ✅ Modal nutzt Native `<dialog>` inkl. Focus Trap.  
- ✅ Touch Targets ≥ 44px.  
- ⏳ Storybook-Tests für Keyboard-Flows einrichten.

### Understandable
- ✅ Labels/Hilfetexte für Formulare; Fehler mit `role="alert"`.  
- ✅ Navigation konsistent.  
- ⏳ Live-Validation (z. B. via React Hook Form) optional.

### Robust
- ✅ Semantisches HTML, ARIA-Attribute (z. B. `aria-expanded`).  
- ✅ axe + Lighthouse lokal grün.  
- ⏳ Automatisierte Checks (CI) noch aufzusetzen.

## 📋 Priorisierte Follow-ups
1. **CI-Automatisierung:** axe/Lighthouse in GitHub Actions integrieren.  
2. **Sanity-Validierung:** Farb-Dekoratoren einschränken (nur `brand`).  
3. **Storybook-A11y:** Addon aktivieren und Flows dokumentieren.

## Referenzen
- `packages/ui/src/styles/tokens.css` (`--focus-ring-*`, Reduced Motion)  
- `packages/ui/src/components/dialog.tsx`, `dialog.stories.tsx`  
- `apps/web/src/components/sections/contact-form.tsx`
