@import "tailwindcss";
@source "../../../apps/**/*.{ts,tsx}";
@source "../../../components/**/*.{ts,tsx}";
@source "../**/*.{ts,tsx}";

@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* === Primitive Color Tokens === */
  --green-50: #f3f9f5;
  --green-100: #e2f0e6;
  --green-200: #c5e0ce;
  --green-300: #9ecab0;
  --green-400: #6cb288;
  --green-500: #4a8b68;
  --green-600: #3a6b50;
  --green-700: #2e5340;
  --green-800: #234032;
  --green-900: #1e3d2e;

  --amber-50: #fff7ea;
  --amber-100: #ffeaca;
  --amber-200: #ffd394;
  --amber-300: #ffb75a;
  --amber-400: #ff9a2a;
  --amber-500: #f27f00;
  --amber-600: #cc6400;
  --amber-700: #a44f00;
  --amber-800: #7d3c00;
  --amber-900: #5f2e00;

  --grey-0: #ffffff;
  --grey-50: #f9faf9;
  --grey-100: #f5f5f5;
  --grey-200: #e5e7eb;
  --grey-300: #d1d5db;
  --grey-400: #9ca3af;
  --grey-500: #6b7280;
  --grey-600: #4b5563;
  --grey-700: #374151;
  --grey-800: #1f2937;
  --grey-900: #1a1a1a;

  --blue-500: #2563eb;
  --blue-600: #1d4ed8;
  --blue-700: #1e40af;

  --red-500: #dc2626;
  --green-status-500: #16a34a;
  --yellow-500: #f59e0b;

  /* === Typography Tokens === */
  --font-family-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  --font-family-serif: "Source Serif 4", "Georgia", "Times New Roman", serif;
  --font-size-5: clamp(2rem, 5vw, 2.25rem);
  --font-size-4: clamp(1.6rem, 4vw, 1.875rem);
  --font-size-3: clamp(1.3rem, 3vw, 1.5rem);
  --font-size-2: clamp(1.1rem, 2.6vw, 1.25rem);
  --font-size-1: clamp(1rem, 2vw, 1.125rem);
  --font-size-0: clamp(0.875rem, 1.6vw, 1rem);
  --font-size--1: clamp(0.75rem, 1.2vw, 0.875rem);
  --font-size--2: 0.75rem;
  --line-tight: 1.15;
  --line-base: 1.6;
  --tracking-tight: -0.015em;
  --tracking-wide: 0.08em;

  /* Legacy typography aliases */
  --step-5: var(--font-size-5);
  --step-4: var(--font-size-4);
  --step-3: var(--font-size-3);
  --step-2: var(--font-size-2);
  --step-1: var(--font-size-1);
  --step-0: var(--font-size-0);
  --step--1: var(--font-size--1);
  --step--2: var(--font-size--2);

  /* === Spacing Tokens (4px base) === */
  --spacing-unit: 4px;
  --space-0: 0px;
  --space-1: calc(var(--spacing-unit) * 1);
  --space-2: calc(var(--spacing-unit) * 2);
  --space-3: calc(var(--spacing-unit) * 3);
  --space-4: calc(var(--spacing-unit) * 4);
  --space-5: calc(var(--spacing-unit) * 5);
  --space-6: calc(var(--spacing-unit) * 6);
  --space-7: calc(var(--spacing-unit) * 7);
  --space-8: calc(var(--spacing-unit) * 8);
  --space-9: calc(var(--spacing-unit) * 9);
  --space-10: calc(var(--spacing-unit) * 10);
  --space-11: calc(var(--spacing-unit) * 11);
  --space-12: calc(var(--spacing-unit) * 12);
  --space-13: calc(var(--spacing-unit) * 13);
  --space-14: calc(var(--spacing-unit) * 14);
  --space-15: calc(var(--spacing-unit) * 15);
  --space-16: calc(var(--spacing-unit) * 16);
  --space-17: calc(var(--spacing-unit) * 17);
  --space-18: calc(var(--spacing-unit) * 18);
  --space-19: calc(var(--spacing-unit) * 19);
  --space-20: calc(var(--spacing-unit) * 20);
  --space-21: calc(var(--spacing-unit) * 21);
  --space-22: calc(var(--spacing-unit) * 22);
  --space-23: calc(var(--spacing-unit) * 23);
  --space-24: calc(var(--spacing-unit) * 24);
  --space-25: calc(var(--spacing-unit) * 25);
  --space-26: calc(var(--spacing-unit) * 26);
  --space-27: calc(var(--spacing-unit) * 27);
  --space-28: calc(var(--spacing-unit) * 28);
  --space-29: calc(var(--spacing-unit) * 29);
  --space-30: calc(var(--spacing-unit) * 30);
  --space-31: calc(var(--spacing-unit) * 31);
  --space-32: calc(var(--spacing-unit) * 32);

  /* === Layout Constraints === */
  --max-readable: clamp(45ch, 60ch, 68ch);
  --page-max-width: 75rem;
  --page-max-width-wide: 82.5rem;

  /* === Border & Radius Tokens === */
  --border-width-1: 1px;
  --border-width-2: 2px;
  --border-width-3: 3px;
  --radius: 0.75rem;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;
  --radius-xl: 24px;

  /* === Shadow Tokens === */
  --shadow-1: 0 1px 2px rgba(26, 26, 26, 0.08);
  --shadow-2: 0 4px 12px rgba(30, 61, 46, 0.12);
  --shadow-3: 0 12px 28px rgba(30, 61, 46, 0.14);
  --shadow-4: 0 24px 48px rgba(26, 26, 26, 0.18);
  --shadow-soft: 0 18px 38px -24px rgba(30, 61, 46, 0.35);
  --shadow-elevated: 0 32px 60px -28px rgba(30, 61, 46, 0.28), 0 18px 32px -30px rgba(242, 127, 0, 0.2);

  /* === Motion Tokens === */
  --motion-duration-1: 120ms;
  --motion-duration-2: 200ms;
  --motion-duration-3: 320ms;
  --motion-ease-standard: cubic-bezier(0.2, 0, 0, 1);
  --motion-ease-emphasized: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* === Semantic Color Tokens (Light) === */
  --color-background-base: var(--grey-0);
  --color-background-subtle: color-mix(in srgb, var(--green-50) 20%, var(--grey-0) 80%);
  --color-background-muted: color-mix(in srgb, var(--grey-100) 85%, var(--grey-0) 15%);
  --color-surface-base: var(--grey-0);
  --color-surface-subtle: color-mix(in srgb, var(--green-50) 30%, var(--grey-0) 70%);
  --color-surface-muted: color-mix(in srgb, var(--grey-200) 70%, var(--grey-0) 30%);
  --color-surface-elevated: color-mix(in srgb, var(--grey-0) 82%, var(--grey-200) 18%);

  --color-text-base: var(--grey-900);
  --color-text-muted: color-mix(in srgb, var(--grey-700) 88%, var(--grey-0) 12%);
  --color-text-subtle: color-mix(in srgb, var(--grey-600) 72%, var(--grey-0) 28%);
  --color-text-brand: var(--green-500);
  --color-text-inverse: var(--grey-0);

  --color-brand-primary: var(--green-500);
  --color-brand-primary-hover: var(--green-400);
  --color-brand-primary-active: var(--green-600);
  --color-brand-primary-soft: color-mix(in srgb, var(--green-100) 55%, var(--grey-0) 45%);
  --color-brand-secondary: color-mix(in srgb, var(--green-400) 18%, var(--grey-0) 82%);
  --color-brand-secondary-hover: color-mix(in srgb, var(--green-400) 28%, var(--grey-0) 72%);

  --color-interactive-cta: var(--amber-500);
  --color-interactive-cta-hover: var(--amber-600);

  --color-border-base: color-mix(in srgb, var(--grey-200) 78%, transparent 22%);
  --color-border-muted: color-mix(in srgb, var(--grey-300) 84%, transparent 16%);
  --color-border-strong: color-mix(in srgb, var(--grey-400) 88%, transparent 12%);

  --color-status-success: var(--green-status-500);
  --color-status-success-bg: color-mix(in srgb, var(--green-status-500) 16%, var(--grey-0) 84%);
  --color-status-error: var(--red-500);
  --color-status-error-bg: color-mix(in srgb, var(--red-500) 12%, var(--grey-0) 88%);
  --color-status-info: var(--blue-500);
  --color-status-warning: var(--yellow-500);
  --color-status-warning-bg: color-mix(in srgb, var(--yellow-500) 14%, var(--grey-0) 86%);

  --focus-ring-color: var(--color-status-info);
  --focus-ring-width: 2px;
  --focus-ring-offset: 3px;

  /* === Component Tokens === */
  --card-background: var(--color-surface-base);
  --card-border: var(--color-border-muted);
  --card-text: var(--color-text-base);
  --card-shadow: var(--shadow-soft);

  --modal-background: color-mix(in srgb, var(--color-surface-base) 92%, var(--color-background-muted) 8%);
  --modal-border: var(--color-border-muted);
  --modal-shadow: var(--shadow-elevated);
  --modal-overlay: color-mix(in srgb, var(--grey-900) 65%, transparent 35%);
  --modal-text: var(--color-text-base);

  --input-background: var(--color-surface-base);
  --input-text: var(--color-text-base);
  --input-placeholder: color-mix(in srgb, var(--color-text-muted) 65%, var(--color-background-base) 35%);
  --input-border: var(--color-border-muted);
  --input-border-hover: var(--color-border-strong);
  --input-border-focus: var(--color-brand-primary);
  --input-border-error: var(--color-status-error);
  --input-border-success: var(--color-status-success);

  --button-primary-background: var(--color-interactive-cta);
  --button-primary-text: var(--color-text-inverse);
  --button-secondary-background: var(--color-surface-subtle);
  --button-secondary-text: var(--color-text-base);

  --sidebar: color-mix(in srgb, var(--green-50) 55%, var(--grey-0) 45%);
  --sidebar-foreground: var(--color-text-base);
  --sidebar-primary: var(--color-brand-primary);
  --sidebar-primary-foreground: var(--color-text-inverse);
  --sidebar-accent: color-mix(in srgb, var(--green-100) 65%, var(--grey-0) 35%);
  --sidebar-accent-foreground: var(--green-700);
  --sidebar-border: color-mix(in srgb, var(--grey-200) 70%, transparent 30%);
  --sidebar-ring: color-mix(in srgb, var(--green-400) 55%, transparent 45%);

  --glass-background: color-mix(in srgb, var(--grey-0) 60%, transparent 40%);
  --glass-background-strong: color-mix(in srgb, var(--color-brand-primary) 18%, var(--grey-0) 82%);
  --glass-border: color-mix(in srgb, var(--color-brand-primary) 24%, transparent 76%);
  --liquid-glass-bg: color-mix(in srgb, var(--color-surface-elevated) 70%, transparent 30%);
  --liquid-glass-border: color-mix(in srgb, var(--color-brand-primary) 24%, transparent 76%);
  --liquid-glass-highlight: color-mix(in srgb, var(--color-interactive-cta) 34%, transparent 66%);

  --chart-1: var(--color-interactive-cta);
  --chart-2: var(--color-brand-primary);
  --chart-3: #43618a;
  --chart-4: #79a66b;
  --chart-5: #6f5ea5;

  /* === Legacy Compatibility Aliases === */
  --brand-50: var(--green-50);
  --brand-100: var(--green-100);
  --brand-200: var(--green-200);
  --brand-300: var(--green-300);
  --brand-400: var(--green-400);
  --brand-500: var(--green-500);
  --brand-600: var(--green-600);
  --brand-700: var(--green-700);
  --brand-800: var(--green-800);
  --brand-900: var(--green-900);

  --accent-50: var(--amber-50);
  --accent-100: var(--amber-100);
  --accent-200: var(--amber-200);
  --accent-300: var(--amber-300);
  --accent-400: var(--amber-400);
  --accent-500: var(--amber-500);
  --accent-600: var(--amber-600);
  --accent-700: var(--amber-700);
  --accent-800: var(--amber-800);
  --accent-900: var(--amber-900);

  --neutral-000: var(--grey-0);
  --neutral-050: var(--grey-50);
  --neutral-100: var(--grey-100);
  --neutral-200: var(--grey-200);
  --neutral-300: var(--grey-300);
  --neutral-400: var(--grey-400);
  --neutral-500: var(--grey-500);
  --neutral-600: var(--grey-600);
  --neutral-700: var(--grey-700);
  --neutral-800: var(--grey-800);
  --neutral-900: var(--grey-900);

  --brand-blue-900: var(--green-900);
  --brand-blue-950: color-mix(in srgb, var(--green-900) 92%, black 8%);
  --brand-green-600: var(--green-500);
  --brand-accent-amber: var(--color-interactive-cta);
  --brand-accent-amber-strong: var(--color-interactive-cta-hover);
  --brand-accent-orange: var(--amber-400);

  /* === System Aliases === */
  --background: var(--color-background-base);
  --foreground: var(--color-text-base);
  --card: var(--card-background);
  --card-foreground: var(--card-text);
  --popover: var(--color-surface-elevated);
  --popover-foreground: var(--color-text-base);
  --primary: var(--color-brand-primary);
  --primary-foreground: var(--color-text-inverse);
  --primary-strong: var(--color-brand-primary-active);
  --primary-soft: var(--color-brand-primary-soft);
  --secondary: var(--color-brand-secondary);
  --secondary-foreground: var(--color-text-base);
  --muted: var(--color-background-muted);
  --muted-foreground: var(--color-text-muted);
  --accent: var(--color-interactive-cta);
  --accent-foreground: var(--color-text-inverse);
  --destructive: var(--color-status-error);
  --destructive-foreground: var(--color-text-inverse);
  --border: var(--color-border-base);
  --input: var(--color-border-muted);
  --ring: var(--focus-ring-color);
  --surface-strong: var(--color-surface-base);
  --surface-subtle: var(--color-surface-subtle);
  --surface-muted: var(--color-surface-muted);
}

.dark {
  --color-background-base: var(--grey-900);
  --color-background-subtle: color-mix(in srgb, var(--grey-900) 92%, var(--green-900) 8%);
  --color-background-muted: color-mix(in srgb, var(--grey-900) 84%, var(--grey-800) 16%);
  --color-surface-base: color-mix(in srgb, var(--grey-900) 94%, var(--green-900) 6%);
  --color-surface-subtle: color-mix(in srgb, var(--grey-900) 82%, var(--green-900) 18%);
  --color-surface-muted: color-mix(in srgb, var(--grey-800) 68%, var(--grey-900) 32%);
  --color-surface-elevated: color-mix(in srgb, var(--grey-800) 72%, var(--grey-900) 28%);

  --color-text-base: color-mix(in srgb, var(--grey-0) 92%, var(--green-900) 8%);
  --color-text-muted: color-mix(in srgb, var(--grey-0) 70%, var(--grey-500) 30%);
  --color-text-subtle: color-mix(in srgb, var(--grey-0) 58%, var(--grey-500) 42%);
  --color-text-brand: var(--green-400);
  --color-text-inverse: var(--grey-0);

  --color-brand-primary: var(--green-400);
  --color-brand-primary-hover: var(--green-300);
  --color-brand-primary-active: var(--green-500);
  --color-brand-primary-soft: color-mix(in srgb, var(--green-500) 30%, var(--grey-900) 70%);
  --color-brand-secondary: color-mix(in srgb, var(--green-500) 48%, var(--grey-900) 52%);
  --color-brand-secondary-hover: color-mix(in srgb, var(--green-500) 56%, var(--grey-900) 44%);

  --color-interactive-cta: var(--amber-500);
  --color-interactive-cta-hover: var(--amber-400);

  --color-border-base: color-mix(in srgb, var(--grey-700) 55%, transparent 45%);
  --color-border-muted: color-mix(in srgb, var(--grey-700) 65%, transparent 35%);
  --color-border-strong: color-mix(in srgb, var(--grey-500) 72%, transparent 28%);

  --color-status-success-bg: color-mix(in srgb, var(--green-status-500) 22%, var(--grey-900) 78%);
  --color-status-error-bg: color-mix(in srgb, var(--red-500) 18%, var(--grey-900) 82%);
  --color-status-warning-bg: color-mix(in srgb, var(--yellow-500) 24%, var(--grey-900) 76%);
  --color-status-warning: var(--yellow-500);
  --color-status-info: var(--blue-500);

  --modal-overlay: color-mix(in srgb, var(--grey-900) 80%, transparent 20%);
  --modal-background: color-mix(in srgb, var(--grey-900) 85%, var(--green-900) 15%);
  --modal-border: color-mix(in srgb, var(--grey-700) 70%, transparent 30%);
  --modal-shadow: 0 40px 72px -36px rgba(0, 0, 0, 0.45);
  --modal-text: var(--color-text-base);

  --card-background: color-mix(in srgb, var(--grey-900) 86%, var(--green-900) 14%);
  --card-border: color-mix(in srgb, var(--grey-700) 65%, transparent 35%);
  --card-text: var(--color-text-base);
  --card-shadow: 0 24px 48px -28px rgba(0, 0, 0, 0.45);

  --input-background: color-mix(in srgb, var(--grey-900) 90%, var(--grey-800) 10%);
  --input-text: var(--color-text-base);
  --input-placeholder: color-mix(in srgb, var(--color-text-muted) 70%, var(--color-background-base) 30%);
  --input-border: color-mix(in srgb, var(--grey-700) 68%, transparent 32%);
  --input-border-hover: color-mix(in srgb, var(--grey-600) 70%, transparent 30%);
  --input-border-focus: var(--color-brand-primary);
  --input-border-error: var(--color-status-error);
  --input-border-success: var(--color-status-success);

  --sidebar: color-mix(in srgb, var(--green-900) 45%, var(--grey-900) 55%);
  --sidebar-foreground: var(--color-text-base);
  --sidebar-primary: var(--color-brand-primary);
  --sidebar-primary-foreground: var(--color-text-inverse);
  --sidebar-accent: color-mix(in srgb, var(--green-700) 55%, var(--grey-900) 45%);
  --sidebar-accent-foreground: var(--color-text-inverse);
  --sidebar-border: color-mix(in srgb, var(--grey-700) 60%, transparent 40%);
  --sidebar-ring: color-mix(in srgb, var(--color-brand-primary) 40%, transparent 60%);

  --glass-background: color-mix(in srgb, var(--grey-900) 60%, transparent 40%);
  --glass-background-strong: color-mix(in srgb, var(--amber-500) 35%, transparent 65%);
  --glass-border: color-mix(in srgb, var(--color-brand-primary) 35%, transparent 65%);
  --liquid-glass-bg: color-mix(in srgb, var(--grey-900) 70%, transparent 30%);
  --liquid-glass-border: color-mix(in srgb, var(--amber-500) 40%, transparent 60%);
  --liquid-glass-highlight: color-mix(in srgb, var(--amber-500) 55%, transparent 45%);

  --shadow-soft: 0 22px 48px -32px rgba(5, 20, 12, 0.6);
  --shadow-elevated: 0 40px 72px -36px rgba(242, 127, 0, 0.35),
    0 24px 52px -28px rgba(0, 0, 0, 0.45);

  --background: var(--color-background-base);
  --foreground: var(--color-text-base);
  --card: var(--card-background);
  --card-foreground: var(--card-text);
  --popover: var(--color-surface-elevated);
  --popover-foreground: var(--color-text-base);
  --primary: var(--color-brand-primary);
  --primary-foreground: var(--color-text-inverse);
  --primary-strong: var(--color-brand-primary-active);
  --primary-soft: var(--color-brand-primary-soft);
  --secondary: var(--color-brand-secondary);
  --secondary-foreground: var(--color-text-inverse);
  --muted: color-mix(in srgb, var(--grey-900) 85%, var(--grey-800) 15%);
  --muted-foreground: color-mix(in srgb, var(--grey-0) 68%, var(--grey-500) 32%);
  --accent: var(--color-interactive-cta);
  --accent-foreground: var(--color-text-inverse);
  --destructive: var(--color-status-error);
  --destructive-foreground: var(--color-text-inverse);
  --border: var(--color-border-base);
  --input: var(--input-border);
  --ring: var(--focus-ring-color);
  --surface-strong: var(--color-surface-base);
  --surface-subtle: var(--color-surface-subtle);
  --surface-muted: var(--color-surface-muted);
}

@media (min-width: 1400px) {
  :root {
    --page-max-width: 87.5rem;
    --page-max-width-wide: 95rem;
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --shadow-soft: var(--shadow-soft);
  --shadow-elevated: var(--shadow-elevated);
  --font-family-sans: var(--font-sans);
  --font-family-serif: var(--font-serif);
  --spacing-0: var(--space-0);
  --spacing-1: var(--space-1);
  --spacing-2: var(--space-2);
  --spacing-3: var(--space-3);
  --spacing-4: var(--space-4);
  --spacing-5: var(--space-5);
  --spacing-6: var(--space-6);
  --spacing-7: var(--space-7);
  --spacing-8: var(--space-8);
  --spacing-9: var(--space-9);
  --spacing-10: var(--space-10);
  --spacing-11: var(--space-11);
  --spacing-12: var(--space-12);
  --spacing-13: var(--space-13);
  --spacing-14: var(--space-14);
  --spacing-15: var(--space-15);
  --spacing-16: var(--space-16);
  --spacing-17: var(--space-17);
  --spacing-18: var(--space-18);
  --spacing-19: var(--space-19);
  --spacing-20: var(--space-20);
  --spacing-21: var(--space-21);
  --spacing-22: var(--space-22);
  --spacing-23: var(--space-23);
  --spacing-24: var(--space-24);
  --spacing-25: var(--space-25);
  --spacing-26: var(--space-26);
  --spacing-27: var(--space-27);
  --spacing-28: var(--space-28);
  --spacing-29: var(--space-29);
  --spacing-30: var(--space-30);
  --spacing-31: var(--space-31);
  --spacing-32: var(--space-32);
}

@layer utilities {
  .layout-shell {
    width: 100%;
    max-width: var(--page-max-width);
    margin-inline: auto;
    padding-inline: clamp(1rem, 4vw, 2.5rem);
  }

  .layout-shell-wide {
    width: 100%;
    max-width: var(--page-max-width-wide);
    margin-inline: auto;
    padding-inline: clamp(1rem, 4vw, 2.5rem);
  }
}

@layer base {
  *,
  *::before,
  *::after {
    @apply border-border outline-ring/50;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    text-rendering: optimizeLegibility;
    font-size: 100%;
    color-scheme: light;
  }

  :root:is(.dark) html,
  .dark html {
    color-scheme: dark;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-size: var(--step-0);
    line-height: 1.6;
    min-height: 100dvh;
    hyphens: auto;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    margin: 0;
  }

  main,
  section,
  article,
  aside {
    max-width: 100%;
  }

  p,
  li {
    max-width: var(--max-readable);
    hyphenate-character: "-";
    overflow-wrap: anywhere;
  }

  h1,
  h2 {
    font-family: var(--font-serif);
    font-feature-settings: "liga" 1, "kern" 1;
    letter-spacing: var(--tracking-tight);
    text-wrap: balance;
    color: var(--foreground);
  }

  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-sans);
    font-feature-settings: "liga" 1, "kern" 1;
    letter-spacing: -0.01em;
    color: color-mix(in srgb, var(--foreground) 80%, var(--primary-strong) 20%);
  }

  h1 {
    font-size: var(--step-5);
    line-height: 1.05;
    margin-bottom: var(--space-6);
  }

  h2 {
    font-size: var(--step-4);
    line-height: 1.1;
    margin-bottom: var(--space-5);
  }

  h3 {
    font-size: var(--step-3);
    line-height: 1.2;
    margin-bottom: var(--space-4);
  }

  h4 {
    font-size: var(--step-2);
    line-height: 1.3;
    margin-bottom: var(--space-3);
  }

  h5 {
    font-size: var(--step-1);
    line-height: 1.35;
    margin-bottom: var(--space-2);
  }

  h6 {
    font-size: var(--step-0);
    line-height: 1.4;
    margin-bottom: var(--space-2);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }

  a {
    color: var(--primary);
    text-decoration-thickness: 0.12em;
    text-underline-offset: 0.18em;
    transition: color 150ms ease;
  }

  a:hover {
    color: var(--primary-strong);
  }

  strong {
    color: color-mix(in oklab, var(--primary-strong) 80%, var(--foreground) 20%);
  }

  img {
    display: block;
    max-width: 100%;
    width: 100%;
    height: auto;
    object-fit: cover;
    border-radius: var(--radius-md);
  }

  button,
  [role="button"],
  input[type="button"],
  input[type="submit"],
  input[type="reset"] {
    font-family: inherit;
    font-size: var(--step--1);
    line-height: 1.2;
    min-height: 3rem; /* 48px touch target */
  }

  /* brand surfaces */
  header,
  .navbar {
    background-color: var(--primary);
    color: var(--primary-foreground);
  }

  footer {
    background-color: var(--primary-strong);
    color: var(--primary-foreground);
  }

  /* sections */
  section {
    background-color: var(--surface-strong);
    color: var(--foreground);
  }

  section.alt,
  .section-alt {
    background-color: var(--surface-subtle);
    color: var(--foreground);
  }

  /* cards & popovers */
  .card {
    background-color: var(--card);
    color: var(--card-foreground);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-soft);
  }

  .popover {
    background-color: var(--popover);
    color: var(--popover-foreground);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-elevated);
  }

  /* links */
  a,
  .link {
    color: var(--primary);
  }

  a:hover,
  .link:hover {
    color: var(--primary-strong);
  }

  /* primary CTA */
  .button-primary,
  .btn-primary,
  .button-accent,
  .cta-primary {
    background-color: var(--accent);
    color: var(--accent-foreground);
    border: 1px solid color-mix(in srgb, var(--accent) 40%, transparent 60%);
  }

  .button-primary:hover,
  .btn-primary:hover,
  .button-accent:hover,
  .cta-primary:hover {
    background-color: var(--brand-accent-amber-strong);
  }

  /* secondary CTA */
  .button-secondary,
  .btn-secondary,
  .cta-secondary {
    background-color: transparent;
    color: var(--primary);
    border: 2px solid var(--primary);
  }

  .button-secondary:hover,
  .btn-secondary:hover,
  .cta-secondary:hover {
    background-color: var(--primary-soft);
  }

  /* tertiary / text button */
  .btn-tertiary {
    background-color: transparent;
    color: var(--primary-strong);
    border: 1px solid transparent;
  }

  /* badges */
  .badge,
  .pill {
    background-color: var(--secondary);
    color: var(--secondary-foreground);
  }

  .badge-outline {
    background-color: transparent;
    color: var(--secondary);
    border: 1px solid color-mix(in srgb, var(--secondary) 55%, transparent 45%);
  }

  /* forms */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="search"],
  input[type="number"],
  textarea,
  select {
    background-color: var(--card);
    color: var(--card-foreground);
    border: 1px solid var(--input);
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--muted-foreground);
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: 2px solid var(--ring);
    outline-offset: 2px;
    border-color: var(--ring);
  }

  /* tables */
  .table {
    background-color: var(--card);
    color: var(--card-foreground);
    border: 1px solid var(--border);
  }

  .table thead {
    background-color: var(--muted);
    color: var(--foreground);
  }

  .table tbody tr + tr {
    border-top: 1px solid var(--border);
  }

  /* alerts / notes */
  .alert-info,
  .note-info {
    background-color: var(--info-50);
    color: var(--primary-strong);
    border: 1px solid color-mix(in srgb, var(--primary) 30%, transparent 70%);
  }

  .alert-success,
  .note-success {
    background-color: var(--success-50);
    color: var(--secondary);
    border: 1px solid color-mix(in srgb, var(--secondary) 35%, transparent 65%);
  }

  /* sidebar */
  .sidebar {
    background-color: var(--sidebar);
    color: var(--sidebar-foreground);
    border-right: 1px solid var(--sidebar-border);
  }

  .sidebar .nav-item.active,
  .sidebar .nav-item[aria-current="page"] {
    background-color: var(--sidebar-accent);
    color: var(--sidebar-accent-foreground);
    border-left: 3px solid var(--sidebar-ring);
  }

  /* hero surface */
  .hero {
    background-color: var(--muted);
    color: var(--foreground);
  }

  /* inputs with states */
  .is-invalid {
    border-color: var(--destructive);
  }

  .is-invalid:focus {
    outline-color: var(--destructive);
  }

  .is-success {
    border-color: var(--secondary);
  }

  /* chips */
  .chip {
    background-color: color-mix(in srgb, var(--primary) 10%, var(--background) 90%);
    color: var(--primary-strong);
    border: 1px solid color-mix(in srgb, var(--primary) 25%, transparent 75%);
  }

  /* progress / meters */
  .progress {
    background-color: var(--muted);
    color: var(--accent);
  }

  .progress .bar {
    background-color: var(--accent);
  }

  /* charts (series colors) */
  .series-1 {
    color: var(--chart-1);
    stroke: var(--chart-1);
    fill: color-mix(in srgb, var(--chart-1) 30%, transparent 70%);
  }

  .series-2 {
    color: var(--chart-2);
    stroke: var(--chart-2);
    fill: color-mix(in srgb, var(--chart-2) 30%, transparent 70%);
  }

  .series-3 {
    color: var(--chart-3);
    stroke: var(--chart-3);
    fill: color-mix(in srgb, var(--chart-3) 30%, transparent 70%);
  }

  .series-4 {
    color: var(--chart-4);
    stroke: var(--chart-4);
    fill: color-mix(in srgb, var(--chart-4) 30%, transparent 70%);
  }

  .series-5 {
    color: var(--chart-5);
    stroke: var(--chart-5);
    fill: color-mix(in srgb, var(--chart-5) 30%, transparent 70%);
  }

  /* dividers */
  .hr,
  .divider {
    border-top: 1px solid var(--border);
  }

  /* focus */
  :focus-visible {
    outline: 2px solid var(--ring);
    outline-offset: 3px;
  }

  /* glass surfaces */
  .glass {
    background-color: var(--glass-background);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-soft);
    color: inherit;
  }

  .glass-strong {
    background-color: var(--glass-background-strong);
    border: 1px solid color-mix(in srgb, var(--primary) 45%, transparent 55%);
    box-shadow: var(--shadow-elevated);
  }

  /* sticky CTA bar */
  .sticky-cta {
    background-color: var(--background);
    color: var(--foreground);
    border-top: 1px solid var(--border);
  }

  /* dark-mode specific component accents */
  .dark .button-primary,
  .dark .btn-primary,
  .dark .cta-primary {
    background-color: var(--primary);
    color: var(--primary-foreground);
    border: 1px solid color-mix(in srgb, var(--primary) 40%, transparent 60%);
  }

  .dark .button-primary:hover,
  .dark .btn-primary:hover,
  .dark .cta-primary:hover {
    background-color: var(--primary-strong);
  }

  .dark .button-secondary,
  .dark .btn-secondary,
  .dark .cta-secondary {
    color: var(--accent);
    border-color: var(--accent);
  }

  .dark a,
  .dark .link {
    color: var(--accent);
  }

  .dark a:hover,
  .dark .link:hover {
    color: var(--primary-soft);
  }
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

@keyframes float-soft {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(0, -6px, 0);
  }
}

@keyframes float-slower {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(0, -10px, 0);
  }
}

@keyframes fade-in-soft {
  from {
    opacity: 0;
    transform: translate3d(0, 12px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes shimmer-glow {
  0% {
    opacity: 0.6;
    box-shadow: 0 0 0 0 color-mix(in srgb, transparent 70%, var(--accent) 30%);
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 25px 0 color-mix(in srgb, transparent 45%, var(--accent) 55%);
  }
  100% {
    opacity: 0.6;
    box-shadow: 0 0 0 0 color-mix(in srgb, transparent 70%, var(--accent) 30%);
  }
}

@layer utilities {
  .surface-strong {
    background-color: var(--surface-strong);
    color: var(--foreground);
    box-shadow: var(--shadow-soft);
  }

  .surface-subtle {
    background-color: var(--surface-subtle);
    color: color-mix(in srgb, var(--foreground) 90%, var(--primary-strong) 10%);
  }

  .surface-muted {
    background-color: var(--surface-muted);
    color: color-mix(in srgb, var(--foreground) 80%, var(--primary-strong) 20%);
  }

  .glass-surface {
    --glass-surface-bg: var(--glass-background);
    background-color: var(--glass-surface-bg);
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-soft);
    color: inherit;
    position: relative;
    isolation: isolate;
    transition: transform 200ms ease, box-shadow 200ms ease,
      background-color 200ms ease, color 200ms ease;
  }

  .glass-surface-strong {
    --glass-surface-bg: var(--glass-background-strong);
    background-color: var(--glass-surface-bg);
    border: 1px solid color-mix(in oklab, transparent 55%, var(--primary) 45%);
    box-shadow: var(--shadow-elevated);
  }

  .glass-surface-primary {
    --glass-surface-bg: color-mix(in oklab, transparent 35%, var(--primary) 65%);
    color: var(--primary-foreground);
  }

  .glass-surface-secondary {
    --glass-surface-bg: color-mix(in oklab, transparent 45%, var(--secondary) 55%);
    color: var(--secondary-foreground);
  }

  .glass-surface-accent {
    --glass-surface-bg: color-mix(in oklab, transparent 40%, var(--accent) 60%);
    color: var(--accent-foreground);
  }

  .glass-surface-neutral {
    --glass-surface-bg: color-mix(in oklab, transparent 60%, var(--background) 40%);
    color: var(--foreground);
  }

  .glass-surface-danger {
    --glass-surface-bg: color-mix(in oklab, transparent 40%, var(--destructive) 60%);
    color: var(--destructive-foreground);
  }

  @supports (backdrop-filter: blur(12px)) {
    .glass-surface,
    .glass-surface-strong,
    .glass-surface-primary,
    .glass-surface-secondary,
    .glass-surface-accent,
    .glass-surface-neutral,
    .glass-surface-danger {
      backdrop-filter: blur(18px) saturate(140%);
    }
  }

  .glass-surface:hover {
    box-shadow: var(--shadow-elevated);
    transform: translateY(-2px);
  }

  .liquid-glass {
    position: relative;
    background: color-mix(in srgb, var(--neutral-000) 35%, transparent 65%);
    border-radius: var(--radius-xl);
    border: 1px solid color-mix(in srgb, var(--neutral-000) 20%, transparent 80%);
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    box-shadow:
      inset 0 1px 1px color-mix(in srgb, var(--neutral-000) 70%, transparent 30%),
      0 4px 20px -8px color-mix(in srgb, var(--brand-blue-900) 30%, transparent 70%);
    overflow: hidden;
  }

  /* Highlight Layer */
  .liquid-glass::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
        circle at 20% 20%,
        color-mix(in srgb, var(--accent) 12%, transparent 88%) 0%,
        transparent 60%
      ),
      radial-gradient(
        circle at 80% 80%,
        color-mix(in srgb, var(--secondary) 12%, transparent 88%) 0%,
        transparent 70%
      );
    mix-blend-mode: overlay;
    opacity: 0.6;
    pointer-events: none;
    animation: liquid-move 12s ease-in-out infinite alternate;
  }

  .animate-float {
    animation: float-soft 6s ease-in-out infinite;
  }

  .animate-float-slow {
    animation: float-slower 9s ease-in-out infinite;
  }

  .animate-fade-in {
    animation: fade-in-soft 450ms ease forwards;
  }

  .animate-shimmer {
    animation: shimmer-glow 3s ease-in-out infinite;
  }

  .animate-aurora {
    animation: aurora 60s linear infinite;
  }

.animate-slide-up {
  animation: slide-up 0.7s ease-out forwards;
}

/* Logo Dark Mode Optimierung */
.logo-dark-mode {
  transition: filter 0.3s ease-in-out;
}

.logo-dark-mode.dark {
  filter: brightness(1.8) contrast(1.2) saturate(1.3) hue-rotate(10deg);
}

  .content-readable {
    max-width: var(--max-readable);
  }

  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }

  .shadow-elevated {
    box-shadow: var(--shadow-elevated);
  }

  .spacer {
    display: block;
    height: var(--space-8);
  }
}

/* hero-bg: ruhiger, professioneller Verlauf */
.hero-bg {
  background:
    radial-gradient(1200px 600px at 50% -10%, color-mix(in srgb, var(--primary) 8%, transparent 92%), transparent 70%),
    linear-gradient(180deg, var(--surface-subtle) 0%, var(--background) 100%);
}

/* Dark Mode Akzente */
.dark .hero-bg {
  background:
    radial-gradient(1200px 600px at 50% -10%, color-mix(in srgb, var(--primary) 15%, transparent 85%), transparent 70%),
    linear-gradient(180deg, var(--surface-subtle) 0%, var(--background) 100%);
}

@keyframes liquid-move {
  0%, 100% { transform: translate3d(0,0,0); }
  50% { transform: translate3d(-4%, -2%, 0); }
}

@keyframes aurora {
  from {
    background-position: 50% 50%, 50% 50%;
  }
  to {
    background-position: 350% 50%, 350% 50%;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(2rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
